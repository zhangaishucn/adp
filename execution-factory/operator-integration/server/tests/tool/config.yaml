# 环境配置
base_url: "http://127.0.0.1:9000"
# token
token: "ory_at_zRx3_Kc0DjIMgerl56OIGH5Giuq7YSWD5mOd_fWenbI.kem-Bxkcn5-FN4I7ezVRDeVxjEbxk19tgmP61xYedJU"

# 注册参数
register:
  metadata_type: "openapi"
  metadata_path: "/root/go/src/github.com/kweaver-ai/operator-hub/operator-integration/server/tests/file/yaml/test.yaml"
  direct-publish: false
  operator_info:
    operator_type: "basic"
    execution_mode: "sync"
    category: "other_category" #"other_category" "data_process" "data_transform" "data_store" "data_analysis" "data_query" "data_extract" "data_split" "model_train"
    source: "unknown"
  extend_info: {}
  operator_execute_control:
    timeout: 30000
    retry_policy: # 重试策略
      max_attempts: 3 # 最大重试次数
      initial_delay: 1000 # 初始延迟时间(毫秒)
      max_delay: 6000 # 最大延迟时间(毫秒)
      backoff_factor: 2
      retry_conditions:
        status_code: []
        error_codes: []

# 更新算子信息
update:
  operator_id: "f6fdc41e-fbbc-4446-810b-aee40d56149c"
  version: "1878a26a-03d6-448e-83f0-c5f22a307ce2"
  # metadata_type: "openapi"
  # metadata_path: "/root/go/src/github.com/kweaver-ai/operator-hub/operator-integration/server/tests/file/yaml/test.yaml"
  # direct-publish: false
  # operator_info:
  #   operator_type: "basic"
  #   execution_mode: "sync"
  #   category: "other_category" #"other_category" "data_process" "data_transform" "data_store" "data_analysis" "data_query" "data_extract" "data_split" "model_train"
  #   source: "unknown"
  # extend_info: {}
  # operator_execute_control:
  #   timeout: 30000
  #   retry_policy: # 重试策略
  #     max_attempts: 3 # 最大重试次数
  #     initial_delay: 1000 # 初始延迟时间(毫秒)
  #     max_delay: 6000 # 最大延迟时间(毫秒)
  #     backoff_factor: 2
  #     retry_conditions:
  #       status_code: []
  #       error_codes: []

# 删除算子
delete:
  # operator_id:必填
  # version:必填
  operator_id: "80bc95e6-7da5-4788-9884-6e6e58103e2b"
  version: "318301fb-d9cd-4946-b692-6165cdfd8c9e"

# 查询算子列表
list:
  query:
    page: 1
    page_size: -1 # -1表示查询所有
    # sort_by: "update_time"
    # category: "other_category"
    # name: ""
    # category: "basic"
    # status: "published" # published/unpublish/offline
    # user_id: ""
    operator_id: "f6fdc41e-fbbc-4446-810b-aee40d56149c"
    # version: ""

# 查询算子详情

detail:
  # operator_id:必填 （默认获取已发布）
  # version:非必填
  operator_id: f6fdc41e-fbbc-4446-810b-aee40d56149c
  # version: "1878a26a-03d6-448e-83f0-c5f22a307ce2"

# 发布算子
publish:
  # operator_id:必填
  # version:必填
  operator_id: "f6fdc41e-fbbc-4446-810b-aee40d56149c"
  version: "1878a26a-03d6-448e-83f0-c5f22a307ce2"

# 下线算子
offline:
  # operator_id:必填
  # version:必填
  operator_id: "80bc95e6-7da5-4788-9884-6e6e58103e2b"
  version: "318301fb-d9cd-4946-b692-6165cdfd8c9e"
